<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ktdsuniversity.edu.domain.file.dao.impl.FileGroupDaoImpl">
     <insert id="insertFileGroup"
            parameterType="com.ktdsuniversity.edu.domain.file.vo.FileGroupVO">
      <selectKey keyProperty="flGrpId" 
                 resultType="string" 
                 order="BEFORE">       
         SELECT 'FG-' || TO_CHAR(SYSDATE, 'YYYYMMDD-') || LPAD(SEQ_FL_GRP_PK.NEXTVAL, 6, '0')
           FROM DUAL
      </selectKey> 
         
      INSERT INTO FL_GRP
      (FL_GRP_ID
      , FL_CNT
      , CRT_DT
      , CRTR
      , UPDT_DT
      , MTTR)
      VALUES
       (#{flGrpId}
      , #{flCnt}
      , SYSDATE
      , 'SYSTEM'
      , SYSDATE
      , 'SYSTEM')     
    </insert>
</mapper>